<section class="productsToSell">

  <center>
    <FONT FACE="helvetica neue" SIZE=6 COLOR="black"><b>Productos para Vender</b></FONT>
  </center>

  <el-divider></el-divider>

  <el-row>
    <el-col>
        <el-button
            @click="dialogNewProductVisible=true"
            type="warning"
            size="mini"
            style="margin-right: 5px;"
        >
            Nuevo Producto
        </el-button>
    </el-col>

</el-row>
  <el-row v-loading="loading" element-loading-background="rgba(254, 254, 254, 0.7)">

    <el-table :data="currentProductsToSellView" size="mini" height="70vh" style="margin-top: 15px;">

        <el-table-column
        v-for="column in columnsProductsToSell"
        :key="column.id"
        :label="column.label"
        :prop="column.prop"
        :width="column.width"
        />

    </el-table>

  </el-row>

  
    <!-- Dialog de create new product-->

    <el-dialog
    :title="newProductTitle"
    :visible.sync="dialogNewProductVisible"
    width="30%"
    >
    <el-form
        :model="createProductForm"
        ref="createProductForm"
        size="mini"
        :rules="editProductForm.rules"
        style="text-align: left"
    >
        <el-row :gutter="20">
            <el-col :span="12">
                <el-form-item label="Nombre" prop="nombre">
                    <el-input maxlength="30" v-model="createProductForm.nombre" />
                </el-form-item>
            </el-col>
            <el-col :span="12">
                <el-form-item label="Categoría" prop="id_categoria">
                    <el-select
                    size="mini"
                    placeholder="Seleccione una categoría"
                    v-model="createProductForm.id_categoria"
                    >
                        <el-option
                        v-for="item in categories"
                        :key="item.key"
                        :label="item.label"
                        :value="item.key"
                        ></el-option>
                    </el-select>
                </el-form-item>
            </el-col>
        </el-row>
        <el-row :gutter="20">
            <el-col :span="24">
                <el-form-item label="Descripción" prop="descripcion">
                    <el-input maxlength="30" v-model="createProductForm.descripcion" />
                </el-form-item>
            </el-col>
        </el-row>
        <el-row :gutter="20">
            <el-col :span="10">
                <el-form-item label="Precio ($)" prop="precio">
                    <el-input maxlength="30" v-model="createProductForm.precio" />
                </el-form-item>
            </el-col>
            <el-col :span="8">
                <el-form-item label="Stock" prop="stock">
                    <el-input maxlength="30" v-model="createProductForm.stock" />
                </el-form-item>
            </el-col>
            <el-col :span="6">
                <el-form-item label="Nuevo" prop="nuevo">
                    <el-switch v-model="createProductForm.nuevo" style="padding-left: 10px;"></el-switch>
                </el-form-item>
            </el-col>
        </el-row>
    </el-form>

    <span slot="footer" class="dialog-footer">
        <el-button size="mini" @click="cancelCreateProduct">
            Cancelar
        </el-button>
        <el-button type="primary" size="mini" @click="submitNewProduct()">
            Crear
        </el-button>
    </span>
    </el-dialog>


</section>